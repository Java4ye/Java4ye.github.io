<!-- build time:Thu Jan 20 2022 23:06:22 GMT+0800 (GMT+08:00) --><!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="///cdn.jsdelivr.net/gh/RyzeYang/CDN_blog@3.0/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="///cdn.jsdelivr.net/gh/RyzeYang/CDN_blog@3.0/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="程序员小站" href="https://java4ye.cn/rss.xml"><link rel="alternate" type="application/atom+xml" title="程序员小站" href="https://java4ye.cn/atom.xml"><link rel="alternate" type="application/json" title="程序员小站" href="https://java4ye.cn/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><link rel="canonical" href="https://java4ye.cn/Spring/16%E5%BC%A0%E5%9B%BE%E8%A7%A3%E9%94%81Spring%E7%9A%84%E6%95%B4%E4%BD%93%E8%84%89%E7%BB%9C%E5%95%A6/"><title>16张图解锁Spring的整体脉络 - Spring家族 | Java4ye = 程序员小站 = 4ye的后端技术小站</title><meta name="generator" content="Hexo 6.0.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">16张图解锁Spring的整体脉络</h1><div class="meta"><span class="item" title="Created: 2022-01-16 18:34:27"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">Posted on</span> <time itemprop="dateCreated datePublished" datetime="2022-01-16T18:34:27+08:00">2022-01-16</time> </span><span class="item" title="Symbols count in article"><span class="icon"><i class="ic i-pen"></i> </span><span class="text">Symbols count in article</span> <span>4.5k</span> <span class="text">words</span> </span><span class="item" title="Reading time"><span class="icon"><i class="ic i-clock"></i> </span><span class="text">Reading time</span> <span>4 mins.</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="Toggle navigation bar"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">Java4ye</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="https://tva1.sinaimg.cn/large/6833939bly1gipexe4oykj20zk0m87ji.jpg"></li><li class="item" data-background-image="https://tva1.sinaimg.cn/large/6833939bly1giclx29mstj20zk0m8hdt.jpg"></li><li class="item" data-background-image="https://tva1.sinaimg.cn/large/6833939bly1gicliierfjj20zk0m8npd.jpg"></li><li class="item" data-background-image="https://tva1.sinaimg.cn/large/6833939bly1gicitzannuj20zk0m8b29.jpg"></li><li class="item" data-background-image="https://tva1.sinaimg.cn/large/6833939bly1giclhfehz7j20zk0m8u0x.jpg"></li><li class="item" data-background-image="https://tva1.sinaimg.cn/large/6833939bly1giciub8ja1j20zk0m81ky.jpg"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">Home</a></span><i class="ic i-angle-right"></i> <span class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/Spring/" itemprop="item" rel="index" title="In Spring家族"><span itemprop="name">Spring家族</span></a><meta itemprop="position" content="1"></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="en"><link itemprop="mainEntityOfPage" href="https://java4ye.cn/Spring/16%E5%BC%A0%E5%9B%BE%E8%A7%A3%E9%94%81Spring%E7%9A%84%E6%95%B4%E4%BD%93%E8%84%89%E7%BB%9C%E5%95%A6/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="///cdn.jsdelivr.net/gh/RyzeYang/CDN_blog@3.0/images/avatar.png"><meta itemprop="name" content="Java4ye"><meta itemprop="description" content="4ye的后端技术小站, 整理公众号Java4ye 的文章,方便复习查阅😋"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="程序员小站"></span><div class="body md" itemprop="articleBody"><p>今天来梳理下 <strong>Spring</strong> 的整体脉络啦，为后面的文章做个铺垫～</p><p>后面几篇文章应该会讲讲这些内容啦 😆</p><ol><li>Spring AOP 插件 🐖 （🕊了好久都忘了 😅）</li><li>分享下 <strong>4ye</strong> 在项目中利用 <strong>AOP + MybatisPlus</strong> 对项目进行重构，优化系统中特殊的日志模块的故事</li><li>Spring <strong>属性注入</strong>，<strong>循环依赖</strong>，<strong>事务</strong> 等这几个比较重要的</li><li>Spring 源码中的要点 <strong>AbstractApplicationContext</strong> 中的 <strong>refresh</strong> 方法里的 12 个方法</li><li>Spring 中的设计模式 等等</li><li>目前就想到这么多啦🐷</li></ol><hr><p>话说咱们一直都在用这个 Spring ，你们对它的感受是啥呀？还是说说不出来 哈哈</p><p>4ye 的感觉也是零零散散的，而且印象中一直都在用 Springboot ，不用再配置一堆东西呀，管理依赖啥的，方便太多了。</p><p>所以借此机会简单梳理下其中的一些脉络，这样去看源码就有条理多啦，更能知道一些扩展点的使用等😝</p><h3 id="目录"><a class="anchor" href="#目录">#</a> 目录</h3><p>本文会先大概介绍下这些知识点 👇</p><p><img data-src="http://img.ryzeyang.top/image-20210904200622280.png" alt="image-20210904200622280"></p><h3 id="印象中的-spring"><a class="anchor" href="#印象中的-spring">#</a> 印象中的 Spring</h3><p>脑海中有这么一条公式：</p><p>👉 IOC = 工厂模式 + XML + 反射</p><p>👉 而 DI , AOP ， <strong>事务</strong> 等也都在 XML 中很直观的表现出来</p><p>虽然我们现在大部分用这个注解来代替，但是原理还是基本一样的🐖</p><p>注解使用起来很方便，但是学习的话，还是建议先通过这个 XML ，毕竟结构性的文档，有层次感，可以留下更深的印象～😄</p><h3 id="小小spring"><a class="anchor" href="#小小spring">#</a> 小小 Spring</h3><p>把 Spring 浓缩一下，就有了这么一点小东西🐖</p><p><img data-src="http://img.ryzeyang.top/image-20210831215104931.png" alt="image-20210831215104931"></p><p>想了下，我们用 Spring ，其中最主要的一点，就是用它来帮我们管理，创建这个 Bean 。</p><p>那么先从源头看起 —— Bean 从哪来 (＠_＠😉</p><h3 id="bean-解析流程"><a class="anchor" href="#bean-解析流程">#</a> Bean 解析流程</h3><p><img data-src="http://img.ryzeyang.top/image-20210901220458461.png" alt="image-20210901220458461"></p><p>如图所示，就是通过 <strong>解析器</strong>，对我们的 XML 文件或者注解进行解析，最后将这些信息封装在 BeanDefinition 类中，并通过 BeanDefinitionRegistry 接口将这些信息 <strong>注册</strong> 起来，放在 beanDefinitionMap 变量中，key : beanName , value ：BeanDefinition 。</p><p>简单看看 BeanDefinition 中的属性叭</p><h3 id="beandefinition"><a class="anchor" href="#beandefinition">#</a> BeanDefinition</h3><ul><li><p>beanClass : bean 的类型 ，实例化时用的 🐖</p></li><li><p>scope : 作用范围有 singleton，prototype</p></li><li><p>isLazy : <strong>懒加载</strong> ，true 的话 会在 getBean 时生成，而且 scope 的 prototype 无效，false 在 Spring 启动过程中直接生成</p></li><li><p>initMethodName : 初始化方法，当然是初始化时调用🐖</p></li><li><p>primary : 主要的，有多个 Bean 时使用它</p></li><li><p>dependsOn : 依赖的 Bean，必须等依赖 Bean 创建好才可以创建</p></li></ul><blockquote><p>PS: @Component ，@Bean , &lt;bean/&gt; 都会被解析成 BeanDefinition</p></blockquote><h3 id="反射"><a class="anchor" href="#反射">#</a> 反射</h3><p>有了原料后呢，咋们再来看看这个 <strong>工厂</strong> BeanFactory</p><p>先简单想一想这个工厂要怎么创建这个 Bean 呢？</p><p>没错，肯定就是这个 <strong>反射</strong> 啦 😄</p><p>那么，结合我们从原料中获取的重要属性之一的 beanClass ，我们可以画出这么一张图 👇</p><p><img data-src="http://img.ryzeyang.top/image-20210901221544464.png" alt="image-20210901221544464"></p><p>那么我们再来看看这个 BeanFactory 叭 😄</p><h3 id="beanfactory"><a class="anchor" href="#beanfactory">#</a> BeanFactory</h3><p>先来看看 作为 IOC 容器的<strong>根接口</strong> 的 BeanFactory 提供了什么方法吧👇</p><p><img data-src="http://img.ryzeyang.top/image-20210904162844126.png" alt="image-20210904162844126"></p><p>主要是这个 getBean 方法，以及 <strong>别名获取</strong>，<strong>类型获取</strong> 方法和其他一些判断方法如 ：<strong>单例</strong>，<strong>多例</strong>，<strong>类型匹配</strong>，<strong>包含 bean</strong></p><p>我们来简单看看它的子接口都有哪些叭～😄</p><p>这里分享个小技巧叭🐖</p><p>看源码的时候，一般就直接看这个<strong>默认</strong>接口 如这里的 DefaultListableBeanFactory</p><p><img data-src="http://img.ryzeyang.top/image-20210904161436139.png" alt="image-20210904161436139"></p><p>基本上看个类名就知道大概作用了，那么先对号入座下👇</p><p><strong>ListableBeanFactory</strong></p><blockquote><p>👉 遍历 bean</p></blockquote><p><strong>HierarchicalBeanFactory</strong></p><blockquote><p>👉 提供 父子关系，可以获取上一级的 BeanFactory</p></blockquote><p><strong>ConfigurableBeanFactory</strong></p><blockquote><p>👉 实现了 SingletonBeanRegistry ，主要是 单例 Bean 的注册，生成</p></blockquote><p><strong>AutowireCapableBeanFactory</strong></p><blockquote><p>👉 和自动装配有关的</p></blockquote><p><strong>AbstractBeanFactory</strong></p><blockquote><p>👉 单例缓存，以及 FactoryBean 相关的</p></blockquote><p><strong>ConfigurableListableBeanFactory</strong></p><blockquote><p>👉 预实例化单例 Bean，分析，修改 BeanDefinition</p></blockquote><p><strong>AbstractAutowireCapableBeanFactory</strong></p><blockquote><p>👉 创建 Bean ，属性注入，实例化，调用初始化方法 等等</p></blockquote><p><strong>DefaultListableBeanFactory</strong></p><blockquote><p>👉 支持单例 Bean ，Bean 别名 ，父子 BeanFactory，Bean 类型转化 ，Bean 后置处理，FactoryBean，自动装配等</p></blockquote><p>是不是非常丰富 😄</p><h3 id="factorybean"><a class="anchor" href="#factorybean">#</a> FactoryBean</h3><p>FactoryBean ，它本身就是个 Bean，算是小工厂 ，归 BeanFactory 这个大工厂管理的。</p><p><img data-src="http://img.ryzeyang.top/image-20210904174616712.png" alt="image-20210904174616712"></p><p>可以看到它就只有三个方法</p><ol><li>getObject () 获取对象</li><li>isSingleton () 单例对象</li><li>getObjectType () 返回的是 Bean 对象的类型</li></ol><p>相比大工厂 BeanFactory 少了特别多东西，没有严格的 Bean 生命周期流程</p><p>在 👉 <span class="exturl" data-url="aHR0cHM6Ly9tcC53ZWl4aW4ucXEuY29tL3MvbUxHOERXdW1vVmg0a18tMUdDWTBWUQ==">《三分钟快速了解 Spring 中的工厂模式》</span> 一文中有介绍到 😄</p><p>FacotryBean 对象本身也是一个 Bean，是一个小工厂，可以生产另外的 Bean</p><p>BeanFactory 是 Spring 容器的根接口，是大工厂，生产各种各样的 Bean</p><p>beanName 就是正常对象</p><p>“&amp;”+beanName ， 获取的是实现了该接口的 FacotryBean 工厂对象</p><p>大致如下 👇</p><p><img data-src="http://img.ryzeyang.top/image-20210904180204105.png" alt="image-20210904180204105"></p><h3 id="applicationcontext"><a class="anchor" href="#applicationcontext">#</a> ApplicationContext</h3><p>我们再来看看这个 ApplicationContext</p><p><img data-src="http://img.ryzeyang.top/image-20210904161808341.png" alt="image-20210904161808341"></p><p>可以看到它扩展了很多功能，除了 BeanFactory ，它还可以<strong>创建，获取 Bean</strong>，以及处理<strong>国际化</strong>，<strong>事件</strong>，<strong>获取资源</strong>等</p><ul><li>EnvironmentCapable 获取 环境变量 的功能，可以获取到 <strong>操作系统变量</strong> 和 <strong>JVM 环境变量</strong></li><li>ListableBeanFactory 获取所有 BeanNames，判断某个 BeanName 是否存在 BeanDefinition 对象，统计 BeanDefinition 对象，获取某个类型对应的所有 beanNames 等功能</li><li>HierarchicalBeanFactory 获取父 BeanFactory ，判断某个 name 是否存在 bean 对象的功能</li><li>MessageSource <strong>国际化功能</strong>，获取某个国际化资源</li><li>ApplicationEventPublisher <strong>事件发布功能</strong>（重点）</li><li>ResourcePatternResolver <strong>加载，获取资源的功能</strong>，这里的资源可能是文件，图片 等某个 URL 资源都可以</li></ul><p>还有这三个重要的类👇, 就不一一介绍先啦😄</p><ol><li>ClassPathXmlApplicationContext</li><li>AnnotationConfigApplicationContext</li><li>FileSystemXmlApplicationContext</li></ol><p>赶紧来看看这个核心叭！</p><h3 id="ioc-容器"><a class="anchor" href="#ioc-容器">#</a> IOC 容器</h3><p>当然，这时候出场的肯定是 IOC 啦。</p><p>我们都知道 IOC 是 <strong>控制反转</strong> ，但是别忘了 <strong>容器</strong> 这个词，比如 ** 容器的根接口 **BeanFactory ，<strong>容器的实现</strong> 👇</p><ol><li>ClassPathXmlApplicationContext</li><li>AnnotationConfigApplicationContext</li><li>FileSystemXmlApplicationContext</li></ol><p>同时我们要注意这里无处不在的 <strong>后置处理器</strong> xxxPostProcessor 🐷</p><p>这个是 Spring 中扩展性强的原因了！</p><p>我们可以在各个过程中合理应用这些 PostProcessor 来扩展，或者修改 Bean 定义信息等等</p><p><img data-src="http://img.ryzeyang.top/image-20210901222805351.png" alt="image-20210901222805351"></p><p>可以看到在这个容器中，完成了 Bean 的初始化，而这个过程还有很多细节 ，请往下看看👇</p><p>DI 到时写 <strong>属性填充</strong> 时再介绍🐷</p><h3 id="beanfactory-后置处理器"><a class="anchor" href="#beanfactory-后置处理器">#</a> BeanFactory 后置处理器</h3><p>作为 IOC 容器根接口的 BeanFactory ，有着非常高的扩展性，比如最开始获取原料 BeanDefinition 时，就出现了两个针对 BeanFactory 工厂的后置处理器 👇</p><p>BeanDefinitionRegistryPostProcessor</p><blockquote><p>通过该接口，我们可以自己掌控我们的 <strong>原料</strong>，通过 BeanDefinitionRegistry 接口去 <strong>新增</strong>，<strong>删除</strong>，<strong>获取</strong>我们这个 BeanDefinition</p></blockquote><p>BeanFactoryPostProcessor</p><blockquote><p>通过该接口，可以在 <strong>实例化对象前</strong>，对 BeanDefinition 进行修改 ，<strong>冻结</strong> ，<strong>预实例化单例 Bean</strong> 等</p></blockquote><p>经过上面层层阻碍后，我们最终会来到目标方法 getBean ，将原料投入生产，最终获取一个个 Bean 对象出来</p><p>那么随之而来的就是这个 Bean 的生命周期啦 😄</p><h3 id="bean-生命周期"><a class="anchor" href="#bean-生命周期">#</a> Bean 生命周期</h3><p>Bean 的创建和管理有<strong>标准化的流程</strong>！</p><p>这里在我们的工厂 BeanFactory 中写得很清楚 👇</p><p><img data-src="http://img.ryzeyang.top/image-20210902072224002.png" alt="image-20210902072224002"></p><p>总共 <strong>14</strong> 个步骤，是不是一下子就清晰多了😄</p><p><img data-src="http://img.ryzeyang.top/image-20210902073122559.png" alt="image-20210902073122559"></p><p>在看这部分的源码时，要多注意两个英文单词 😝</p><ol><li><strong>实例化</strong> 👉 <strong>Instantiation</strong></li><li><strong>初始化</strong> 👉 <strong>Initialization</strong></li></ol><p>ps: 别看快搞错了 哈哈😝</p><p>仔细阅读上面这 14 个步骤，会发现前面 <strong>8</strong> 个都是 Aware 接口，而他们的作用也很简单，就是获取 xxAware 这个单词的前缀 xx 😄</p><p>比如我们在上文 👉 <span class="exturl" data-url="aHR0cHM6Ly9tcC53ZWl4aW4ucXEuY29tL3MvWGpHSUsxMUZlTnBKV1VUWmhKaHFsZw==">《三分钟快速上手 Spring 事件机制》</span> 中提到的事件发布器 ApplicationEventPublisher ，只要你实现了 ApplicationEventPublisherAware 接口，就可以<strong>获取</strong> 事件发布器 ApplicationEventPublisher ！</p><h3 id="bean-后置处理器"><a class="anchor" href="#bean-后置处理器">#</a> Bean 后置处理器</h3><p>在实例化 和 初始化流程中，把这个 Bean 的后置处理器 BeanPostProcessor 安排上，就得到下图啦 👇</p><p><img data-src="http://img.ryzeyang.top/image-20210902082034253.png" alt="image-20210902082034253"></p><p>这里留意下 <strong>实例化</strong> 有扩展点 InstantiationAwareBeanPostProcessor ， <strong>初始化</strong> 扩展点 BeanPostProcessor 就非常多啦，我们主要来关注下这个 AOP</p><h3 id="aop"><a class="anchor" href="#aop">#</a> AOP</h3><p>那么 AOP 是在哪个步骤代理对象的呢？👇</p><p><img data-src="http://img.ryzeyang.top/image-20210903080503505.png" alt="image-20210903080503505"></p><p>可以在 AbstractAutoProxyCreator 类中看到 👇</p><p><img data-src="http://img.ryzeyang.top/image-20210903080803199.png" alt="image-20210903080803199"></p><p>其他具体信息在下文的 <strong>AOP 插件</strong> 一文中再讲一下😄</p><p>关于代理的知识点可以看看这里</p><p>👉 <span class="exturl" data-url="aHR0cHM6Ly9tcC53ZWl4aW4ucXEuY29tL3MvSXpHV0c3Ti1HSVRKc2lIRkxsZHVwQQ==">《Java 代理模式和字节码的探索》</span></p><p>👉 <span class="exturl" data-url="aHR0cHM6Ly9tcC53ZWl4aW4ucXEuY29tL3MvUkJNVjJscWNZSDNINkY2dGJBQ0I1QQ==">《Cglib 动态代理探索 (ASM，Spring)》</span></p><h3 id="总结"><a class="anchor" href="#总结">#</a> 总结</h3><p>本文就先介绍到这里啦🐖</p><p>主要介绍了 Spring 里面的这些脉络，方便小伙伴们对它有个整体的印象先～</p><p>再介绍其中的一些扩展点，比如从源材料开始的 BeanFactoryPostprocessor ，到产物 Bean 的 BeanPostprocessor 。</p><p>实例化，初始化的顺序，Bean 的生命周期，以及 BeanFactory 及子类扩展的功能，再到 ApplicationContext 的功能。</p><p>还有这个核心机制： <strong>工厂 + XML + 反射</strong>，以及引出下文要说的 AOP <strong>发生的地方</strong>。</p><p><img data-src="http://img.ryzeyang.top/image-20210904203613899.png" alt="image-20210904203613899"></p><p>本期的思维导图会和后面的章节汇总一起再分享哦😋</p><p><strong>ps</strong>：最近忙起来啦，更文速度会慢一些哦～，喜欢的话可以 <strong>星标</strong> 哦，这样可以第一时间收到更文消息🐷</p><p><strong>我是 4ye 咱们下期应该…… 很快再见！！</strong> 😆</p><p>喜欢的话还可以关注下公众号 <strong>Java4ye</strong> 支持下 <strong>4ye</strong> 呀😝</p></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">Edited on</span> <time title="Modified: 2022-01-16 23:23:57" itemprop="dateModified" datetime="2022-01-16T23:23:57+08:00">2022-01-16</time> </span><span id="Spring/16张图解锁Spring的整体脉络啦/" class="item leancloud_visitors" data-flag-title="16张图解锁Spring的整体脉络" title="Views"><span class="icon"><i class="ic i-eye"></i> </span><span class="text">Views</span> <span class="leancloud-visitors-count"></span> <span class="text">times</span></span></div><div class="reward"><button><i class="ic i-heartbeat"></i> Donate</button><p>Give me a cup of [coffee]~(￣▽￣)~*</p><div id="qr"><div><img data-src="///cdn.jsdelivr.net/gh/RyzeYang/CDN_blog@3.0/images/wechatpay.png" alt="Java4ye WeChat Pay"><p>WeChat Pay</p></div><div><img data-src="///cdn.jsdelivr.net/gh/RyzeYang/CDN_blog@3.0/images/alipay.png" alt="Java4ye Alipay"><p>Alipay</p></div></div></div><div id="copyright"><ul><li class="author"><strong>Post author: </strong>Java4ye <i class="ic i-at"><em>@</em></i>程序员小站</li><li class="link"><strong>Post link: </strong><a href="https://java4ye.cn/Spring/16%E5%BC%A0%E5%9B%BE%E8%A7%A3%E9%94%81Spring%E7%9A%84%E6%95%B4%E4%BD%93%E8%84%89%E7%BB%9C%E5%95%A6/" title="16张图解锁Spring的整体脉络">https://java4ye.cn/Spring/16张图解锁Spring的整体脉络啦/</a></li><li class="license"><strong>Copyright Notice: </strong>All articles in this blog are licensed under <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> unless stating additionally.</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/Python/%E6%83%85%E7%AA%A6%E5%88%9D%E5%BC%80%EF%BC%8C%E8%BF%9E%E5%96%9C%E6%AC%A2%E9%83%BD%E8%BF%99%E4%B9%88%E7%9A%84%E9%9D%92%E6%B6%A9/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;tva1.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1giciundwu5j20zk0m8n9e.jpg" title="情窦初开，原来喜欢这么可爱的"><span class="type">Previous Post</span> <span class="category"><i class="ic i-flag"></i> Python</span><h3>情窦初开，原来喜欢这么可爱的</h3></a></div><div class="item right"><a href="/SearchEngine/ElasticSearch%E4%B8%AD%E5%BF%85%E9%A1%BB%E6%8E%8C%E6%8F%A1%E7%9A%84%E4%B8%83%E4%B8%AA%E6%A6%82%E5%BF%B5/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;tva1.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1gipexbei4hj20zk0m8npd.jpg" title="ElasticSearch中必须掌握的七个概念"><span class="type">Next Post</span> <span class="category"><i class="ic i-flag"></i> 搜索引擎</span><h3>ElasticSearch中必须掌握的七个概念</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="Contents"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9B%AE%E5%BD%95"><span class="toc-number">1.</span> <span class="toc-text">目录</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%B0%E8%B1%A1%E4%B8%AD%E7%9A%84-spring"><span class="toc-number">2.</span> <span class="toc-text">印象中的 Spring</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%8F%E5%B0%8Fspring"><span class="toc-number">3.</span> <span class="toc-text">小小 Spring</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#bean-%E8%A7%A3%E6%9E%90%E6%B5%81%E7%A8%8B"><span class="toc-number">4.</span> <span class="toc-text">Bean 解析流程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#beandefinition"><span class="toc-number">5.</span> <span class="toc-text">BeanDefinition</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%8D%E5%B0%84"><span class="toc-number">6.</span> <span class="toc-text">反射</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#beanfactory"><span class="toc-number">7.</span> <span class="toc-text">BeanFactory</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#factorybean"><span class="toc-number">8.</span> <span class="toc-text">FactoryBean</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#applicationcontext"><span class="toc-number">9.</span> <span class="toc-text">ApplicationContext</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ioc-%E5%AE%B9%E5%99%A8"><span class="toc-number">10.</span> <span class="toc-text">IOC 容器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#beanfactory-%E5%90%8E%E7%BD%AE%E5%A4%84%E7%90%86%E5%99%A8"><span class="toc-number">11.</span> <span class="toc-text">BeanFactory 后置处理器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#bean-%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="toc-number">12.</span> <span class="toc-text">Bean 生命周期</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#bean-%E5%90%8E%E7%BD%AE%E5%A4%84%E7%90%86%E5%99%A8"><span class="toc-number">13.</span> <span class="toc-text">Bean 后置处理器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#aop"><span class="toc-number">14.</span> <span class="toc-text">AOP</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">15.</span> <span class="toc-text">总结</span></a></li></ol></div><div class="related panel pjax" data-title="Related"><ul><li class="active"><a href="/Spring/16%E5%BC%A0%E5%9B%BE%E8%A7%A3%E9%94%81Spring%E7%9A%84%E6%95%B4%E4%BD%93%E8%84%89%E7%BB%9C%E5%95%A6/" rel="bookmark" title="16张图解锁Spring的整体脉络">16张图解锁Spring的整体脉络</a></li><li><a href="/Spring/AOP%20%E6%8F%92%E4%BB%B6%E5%B0%B1%E8%BF%99%EF%BC%9F%E4%B8%8A%E6%89%8B%E4%B8%8D%E7%94%A8%E4%B8%A4%E5%88%86%E9%92%9F%EF%BC%81%EF%BC%81%20/" rel="bookmark" title="AOP 插件就这？上手不用两分钟！！">AOP 插件就这？上手不用两分钟！！</a></li><li><a href="/Spring/%E5%9B%9B%E7%A7%8D%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B%E5%9C%A8Springboot%E4%B8%AD%E7%9A%84%E4%BD%BF%E7%94%A8/" rel="bookmark" title="四种引用类型在Springboot中的使用">四种引用类型在Springboot中的使用</a></li><li><a href="/Spring/%E4%B8%89%E5%88%86%E9%92%9F%E5%BF%AB%E9%80%9F%E4%BA%86%E8%A7%A3Spring%E4%B8%AD%E7%9A%84%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F/" rel="bookmark" title="三分钟快速了解Spring中的工厂模式">三分钟快速了解Spring中的工厂模式</a></li><li><a href="/Spring/%E7%AE%80%E5%8D%95%E4%B8%A4%E6%AD%A5%E6%90%9E%E5%AE%9ASpringboot%E8%87%AA%E5%AE%9A%E4%B9%89starter/" rel="bookmark" title="简单两步搞定Springboot自定义starter.md">简单两步搞定Springboot自定义starter.md</a></li><li><a href="/Spring/%E8%8A%B1%E4%BA%86%202%20%E4%B8%AA%E9%92%9F%E6%89%8D%E6%90%9E%E6%87%82%E8%BF%99%20AOP%20%E4%B8%BA%E5%95%A5%E6%B2%A1%E7%94%9F%E6%95%88%EF%BC%8C%E6%B0%B4%E5%8F%8B%E5%8D%B4%E7%9D%A1%E7%9D%80%E4%BA%86%E2%80%A6%E2%80%A6/" rel="bookmark" title="花了 2 个钟才搞懂这 AOP 为啥没生效，水友却睡着了……">花了 2 个钟才搞懂这 AOP 为啥没生效，水友却睡着了……</a></li><li><a href="/Spring/AOP+MybatisPlus%20%E4%BC%98%E5%8C%96%E7%89%B9%E6%AE%8A%E7%9A%84%E6%97%A5%E5%BF%97%E6%A8%A1%E5%9D%97/" rel="bookmark" title="AOP+MybatisPlus 优化特殊的日志模块">AOP+MybatisPlus 优化特殊的日志模块</a></li><li><a href="/Spring/Spring%20AOP%E5%86%85%E5%8A%9F%E4%BF%AE%E7%82%BC/" rel="bookmark" title="Spring AOP内功修炼">Spring AOP内功修炼</a></li><li><a href="/Spring/%E4%B8%89%E5%88%86%E9%92%9F%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8BSpring%E4%BA%8B%E4%BB%B6%E6%9C%BA%E5%88%B6/" rel="bookmark" title="三分钟快速上手Spring事件机制">三分钟快速上手Spring事件机制</a></li></ul></div><div class="overview panel" data-title="Overview"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="Java4ye" data-src="///cdn.jsdelivr.net/gh/RyzeYang/CDN_blog@3.0/images/avatar.png"><p class="name" itemprop="name">Java4ye</p><div class="description" itemprop="description">整理公众号Java4ye 的文章,方便复习查阅😋</div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">14</span> <span class="name">posts</span></a></div><div class="item categories"><a href="/categories/"><span class="count">6</span> <span class="name">categories</span></a></div></nav><div class="social"><span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL0phdmE0eWU=" title="https:&#x2F;&#x2F;github.com&#x2F;Java4ye"><i class="ic i-github"></i></span> <span class="exturl item weixin" data-url="aHR0cDovL2ltZy5yeXpleWFuZy50b3AvaW1hZ2UtMjAyMTA4MDcxODMyMDM3MzYucG5n" title="http:&#x2F;&#x2F;img.ryzeyang.top&#x2F;image-20210807183203736.png"><i class="ic i-weixin"></i></span></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>Home</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>Posts</a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>Archives</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>Categories</a></li></ul></li></ul></div></div></div><ul id="quick"><li class="prev pjax"><a href="/Python/%E6%83%85%E7%AA%A6%E5%88%9D%E5%BC%80%EF%BC%8C%E8%BF%9E%E5%96%9C%E6%AC%A2%E9%83%BD%E8%BF%99%E4%B9%88%E7%9A%84%E9%9D%92%E6%B6%A9/" rel="prev" title="Previous Post"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/SearchEngine/ElasticSearch%E4%B8%AD%E5%BF%85%E9%A1%BB%E6%8E%8C%E6%8F%A1%E7%9A%84%E4%B8%83%E4%B8%AA%E6%A6%82%E5%BF%B5/" rel="next" title="Next Post"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>Random Posts</h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/Spring/" title="In Spring家族">Spring家族</a></div><span><a href="/Spring/AOP%20%E6%8F%92%E4%BB%B6%E5%B0%B1%E8%BF%99%EF%BC%9F%E4%B8%8A%E6%89%8B%E4%B8%8D%E7%94%A8%E4%B8%A4%E5%88%86%E9%92%9F%EF%BC%81%EF%BC%81%20/" title="AOP 插件就这？上手不用两分钟！！">AOP 插件就这？上手不用两分钟！！</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Spring/" title="In Spring家族">Spring家族</a></div><span><a href="/Spring/%E4%B8%89%E5%88%86%E9%92%9F%E5%BF%AB%E9%80%9F%E4%BA%86%E8%A7%A3Spring%E4%B8%AD%E7%9A%84%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F/" title="三分钟快速了解Spring中的工厂模式">三分钟快速了解Spring中的工厂模式</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Spring/" title="In Spring家族">Spring家族</a></div><span><a href="/Spring/%E4%B8%89%E5%88%86%E9%92%9F%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8BSpring%E4%BA%8B%E4%BB%B6%E6%9C%BA%E5%88%B6/" title="三分钟快速上手Spring事件机制">三分钟快速上手Spring事件机制</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Spring/" title="In Spring家族">Spring家族</a></div><span><a href="/Spring/%E5%9B%9B%E7%A7%8D%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B%E5%9C%A8Springboot%E4%B8%AD%E7%9A%84%E4%BD%BF%E7%94%A8/" title="四种引用类型在Springboot中的使用">四种引用类型在Springboot中的使用</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Study/" title="In 学习资源">学习资源</a></div><span><a href="/Study/%E8%BF%995%E4%B8%AAGitHub%E9%A1%B9%E7%9B%AE+3%E4%B8%AA%E7%BD%91%E7%AB%99%EF%BC%8C%E5%8A%A9%E4%BD%A0%E4%B8%80%E9%A3%9E%E5%86%B2%E5%A4%A9%EF%BC%81/" title="这5个GitHub项目+3个网站，助你一飞冲天！">这5个GitHub项目+3个网站，助你一飞冲天！</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/SearchEngine/" title="In 搜索引擎">搜索引擎</a></div><span><a href="/SearchEngine/ElasticSearch%E4%B8%AD%E5%BF%85%E9%A1%BB%E6%8E%8C%E6%8F%A1%E7%9A%84%E4%B8%83%E4%B8%AA%E6%A6%82%E5%BF%B5/" title="ElasticSearch中必须掌握的七个概念">ElasticSearch中必须掌握的七个概念</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Spring/" title="In Spring家族">Spring家族</a></div><span><a href="/Spring/%E8%8A%B1%E4%BA%86%202%20%E4%B8%AA%E9%92%9F%E6%89%8D%E6%90%9E%E6%87%82%E8%BF%99%20AOP%20%E4%B8%BA%E5%95%A5%E6%B2%A1%E7%94%9F%E6%95%88%EF%BC%8C%E6%B0%B4%E5%8F%8B%E5%8D%B4%E7%9D%A1%E7%9D%80%E4%BA%86%E2%80%A6%E2%80%A6/" title="花了 2 个钟才搞懂这 AOP 为啥没生效，水友却睡着了……">花了 2 个钟才搞懂这 AOP 为啥没生效，水友却睡着了……</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Spring/" title="In Spring家族">Spring家族</a></div><span><a href="/Spring/16%E5%BC%A0%E5%9B%BE%E8%A7%A3%E9%94%81Spring%E7%9A%84%E6%95%B4%E4%BD%93%E8%84%89%E7%BB%9C%E5%95%A6/" title="16张图解锁Spring的整体脉络">16张图解锁Spring的整体脉络</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/DB/" title="In DB领域">DB领域</a></div><span><a href="/DB/MySQL%E5%90%84%E5%A4%A7%E7%89%88%E6%9C%AC%E6%96%B0%E7%89%B9%E6%80%A7%E4%B8%80%E8%A7%88/" title="MySQL各大版本新特性一览">MySQL各大版本新特性一览</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Python/" title="In Python">Python</a></div><span><a href="/Python/%E6%83%85%E7%AA%A6%E5%88%9D%E5%BC%80%EF%BC%8C%E8%BF%9E%E5%96%9C%E6%AC%A2%E9%83%BD%E8%BF%99%E4%B9%88%E7%9A%84%E9%9D%92%E6%B6%A9/" title="情窦初开，原来喜欢这么可爱的">情窦初开，原来喜欢这么可爱的</a></span></li></ul></div><div><h2>Recent Comments</h2><ul class="leancloud-recent-comment"></ul></div></div><div class="status"><div class="copyright">&copy; <span itemprop="copyrightYear">2022</span> <span class="with-love"><i class="ic i-heart rotate"></i> </span><span class="author" itemprop="copyrightHolder">Java4ye @ Java4ye</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i> </span><span title="Symbols count total">54k words</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="ic i-coffee"></i> </span><span title="Reading time total">49 mins.</span></div><div class="powered-by">Powered by <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"Spring/16张图解锁Spring的整体脉络啦/",favicon:{show:"（。＾▽＾）",hide:"(　o=^•ェ•)o　┏━┓"},search:{placeholder:"Search for Posts",empty:"We didn't find any results for the search: ${query}",stats:"${hits} results found in ${time} ms"},valine:!0,fancybox:!0,copyright:'Copied to clipboard successfully! <br> All articles in this blog are licensed under <i class="ic i-creative-commons"></i>BY-NC-SA.',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script></body></html><!-- rebuild by hrmmi -->